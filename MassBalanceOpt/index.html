<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · MassBalanceOpt.jl</title><meta name="title" content="API · MassBalanceOpt.jl"/><meta property="og:title" content="API · MassBalanceOpt.jl"/><meta property="twitter:title" content="API · MassBalanceOpt.jl"/><meta name="description" content="Documentation for MassBalanceOpt.jl."/><meta property="og:description" content="Documentation for MassBalanceOpt.jl."/><meta property="twitter:description" content="Documentation for MassBalanceOpt.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">MassBalanceOpt.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li><a class="tocitem" href="../Examples/">Examples</a></li><li class="is-active"><a class="tocitem" href>API</a><ul class="internal"><li><a class="tocitem" href="#Flowsheets,-Streams,-and-Blocks"><span>Flowsheets, Streams, and Blocks</span></a></li><li><a class="tocitem" href="#Variables-and-Equations"><span>Variables and Equations</span></a></li><li><a class="tocitem" href="#Printing-and-Output"><span>Printing and Output</span></a></li><li><a class="tocitem" href="#Solving-Models"><span>Solving Models</span></a></li><li><a class="tocitem" href="#Index"><span>Index</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/gmsowers/MassBalanceOpt" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/gmsowers/MassBalanceOpt/blob/main/docs/src/MassBalanceOpt.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="MassBalanceOpt.jl"><a class="docs-heading-anchor" href="#MassBalanceOpt.jl">MassBalanceOpt.jl</a><a id="MassBalanceOpt.jl-1"></a><a class="docs-heading-anchor-permalink" href="#MassBalanceOpt.jl" title="Permalink"></a></h1><p>A package for formulating mass balance models of chemical processes and solving them with <a href="https://jump.dev/">JuMP</a>.</p><h2 id="Flowsheets,-Streams,-and-Blocks"><a class="docs-heading-anchor" href="#Flowsheets,-Streams,-and-Blocks">Flowsheets, Streams, and Blocks</a><a id="Flowsheets,-Streams,-and-Blocks-1"></a><a class="docs-heading-anchor-permalink" href="#Flowsheets,-Streams,-and-Blocks" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.AbstractBlock" href="#MassBalanceOpt.AbstractBlock"><code>MassBalanceOpt.AbstractBlock</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AbstractBlock</code></pre><p>Abstract supertype for all blocks (Mixer, Splitter, etc.)</p><p>See also <a href="#MassBalanceOpt.Mixer"><code>Mixer</code></a>, <a href="#MassBalanceOpt.Splitter"><code>Splitter</code></a>, <a href="#MassBalanceOpt.Separator"><code>Separator</code></a>, <a href="#MassBalanceOpt.YieldReactor"><code>YieldReactor</code></a>,     <a href="#MassBalanceOpt.MultiYieldReactor"><code>MultiYieldReactor</code></a>, <a href="#MassBalanceOpt.StoicReactor"><code>StoicReactor</code></a>, <a href="#MassBalanceOpt.@Block_fields"><code>@Block_fields</code></a>,     <a href="#MassBalanceOpt.@Block_init"><code>@Block_init</code></a>, <a href="#MassBalanceOpt.@Block_finish"><code>@Block_finish</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/MassBalanceOpt.jl#L68-L76">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.Flowsheet" href="#MassBalanceOpt.Flowsheet"><code>MassBalanceOpt.Flowsheet</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Flowsheet(name::Symbol=:index, parent=nothing)</code></pre><p>Create a flowsheet. If <code>name</code> is omitted it defaults to <code>:index</code>. If specified, <code>parent</code> must be another <code>Flowsheet</code>; The new flowsheet will be a child of the parent flowsheet. If <code>parent</code> is omitted, the flowsheet has no parent.</p><p>A <code>Flowsheet</code> serves as a container for streams, blocks (subtypes of <code>AbstractBlock</code>), and other flowsheets. The names of a flowsheet&#39;s ancestors are embedded in the variable and equation names of the blocks and streams contained in the flowsheet. For example, if a flowsheet named <code>:unit1</code> is a child of the index flowsheet (a flowsheet created with no parent), the variable and equation names in that flowsheet will start with <code>unit1_</code>. If the <code>:unit1</code> flowsheet has a child named <code>reactors</code> the names will start with <code>unit1_reactors_</code>.  Variables and equations in a flowsheet with no parent have no prefix.</p><p><strong>Examples</strong></p><p>Create a <code>:index</code> flowsheet with no parent:</p><pre><code class="language-julia hljs">julia&gt; fs = Flowsheet()
Flowsheet(
   name=index   )</code></pre><p>Add a <code>Stream</code> to the <code>:index</code> flowsheet:</p><pre><code class="language-julia hljs">julia&gt; in1 = Stream(:in1, fs, @components(h2,ch4))
Stream(in1, fs=index, basis=FRAC, components=[h2, ch4])

julia&gt; fs
Flowsheet(
   name=index,
   streams=[in1]   )</code></pre><p>Create a flowsheet named <code>:unit1</code> whose parent is <code>:index</code>:</p><pre><code class="language-julia hljs">julia&gt; fs_1 = Flowsheet(:unit1, fs)
Flowsheet(
   name=unit1,
   parent=index   )

julia&gt; fs
Flowsheet(
   name=index,
   children=[unit1],
   streams=[in1]   )</code></pre><p>See also <a href="#MassBalanceOpt.Stream"><code>Stream</code></a>, <a href="#MassBalanceOpt.AbstractBlock"><code>AbstractBlock</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/MassBalanceOpt.jl#L569-L616">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.@components" href="#MassBalanceOpt.@components"><code>MassBalanceOpt.@components</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@components symbols...</code></pre><p>Create and return a component set made up of one or more unquoted <code>symbols</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">julia&gt; comps1 = @components h2 ch4 c2h4
OrderedSet{Symbol} with 3 elements:
  :h2
  :ch4
  :c2h4

julia&gt; comps1 = @components(h2, ch4, c2h4)
OrderedSet{Symbol} with 3 elements:
  :h2
  :ch4
  :c2h4</code></pre><p>See also <a href="#MassBalanceOpt.Stream"><code>Stream</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/macros.jl#L473-L494">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.Stream" href="#MassBalanceOpt.Stream"><code>MassBalanceOpt.Stream</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Representation of a material stream in a mass balance model.</p><pre><code class="nohighlight hljs">Stream(name::Symbol, fs, comps; basis=FRAC)</code></pre><p>Create a new <code>Stream</code> with <code>name</code> and components <code>comps</code> in flowsheet <code>fs</code>. The keyword argument <code>basis</code> can be <code>FRAC</code> or <code>FLOW</code>, with <code>FRAC</code> being the default.</p><p>Creating a <code>Stream</code> does not create any variables or equations in the model. The stream becomes available for use as an argument to the constructors of blocks, which are subtyped of <code>AbstractBlock</code>. Blocks are responsible for creating stream variables and equations. When a block creates stream variables  it uses the basis of each stream to determine what variables to create. If <code>basis=FRAC</code> a mass fraction variable is created for every component in the stream; if <code>basis=FLOW</code> a component mass flow rate variable is created for every component.</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>None of the built-in blocks create equations to sum the mass fractions or the component mass flow rates.</p></div></div><p><strong>Examples</strong></p><p>Create two inlet streams and one outlet stream, then create a <code>Mixer</code> block that mixes the two inlet streams.</p><pre><code class="language-julia hljs">julia&gt; m = Model(); fs = Flowsheet();

julia&gt; in1 = Stream(:in1, fs, @components(h2, ch4))
Stream(in1, fs=index, basis=FRAC, comps=[h2, ch4])

julia&gt; in2 = Stream(:in2, fs, @components(h2, ch4, c2h4), basis=FLOW)
Stream(in2, fs=index, basis=FLOW, comps=[h2, ch4, c2h4])

julia&gt; out = Stream(:out, fs, @components(h2, ch4, c2h4))
Stream(out, fs=index, basis=FRAC, comps=[h2, ch4, c2h4])

julia&gt; mix1 = Mixer(m, :mix1, fs, [in1, in2], out)
Mixer(in=[in1, in2], out=[out])

julia&gt; print_vars(mix1)
              Name              |    Value   |    Lower   |    Upper   |    Start   |Spec
--------------------------------|------------|------------|------------|------------|----
mix1_in1_mass                   |           1|            |            |            |F
mix1_in1_h2_massfrac            |         0.5|            |            |            |F
mix1_in1_ch4_massfrac           |         0.5|            |            |            |F
mix1_in2_mass                   |           1|            |            |            |F
mix1_in2_h2_mass                |     0.33333|            |            |            |F
mix1_in2_ch4_mass               |     0.33333|            |            |            |F
mix1_in2_c2h4_mass              |     0.33333|            |            |            |F
mix1_out_mass                   |            |            |            |            |
mix1_out_h2_massfrac            |            |            |            |            |
mix1_out_ch4_massfrac           |            |            |            |            |
mix1_out_c2h4_massfrac          |            |            |            |            |
11 variables</code></pre><p>See also <a href="#MassBalanceOpt.@stream"><code>@stream</code></a>, <a href="#MassBalanceOpt.@streams"><code>@streams</code></a>, <a href="#MassBalanceOpt.Flowsheet"><code>Flowsheet</code></a>, <a href="#MassBalanceOpt.@components"><code>@components</code></a>, <a href="#MassBalanceOpt.StreamBasis"><code>StreamBasis</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/MassBalanceOpt.jl#L412-L468">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.StreamBasis" href="#MassBalanceOpt.StreamBasis"><code>MassBalanceOpt.StreamBasis</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">@enum StreamBasis</code></pre><p><code>FRAC</code>: Generate mass fraction variables (default). <code>FLOW</code>: Generate component mass flow rate variables.</p><p>See also <a href="#MassBalanceOpt.Stream"><code>Stream</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/MassBalanceOpt.jl#L58-L65">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.is_frac" href="#MassBalanceOpt.is_frac"><code>MassBalanceOpt.is_frac</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">is_frac(strm::Stream)</code></pre><p>Return <code>true</code> if the <code>strm</code> basis=<code>FRAC</code>, otherwise return false.</p><p>See also <a href="#MassBalanceOpt.is_flow"><code>is_flow</code></a>, <a href="#MassBalanceOpt.StreamBasis"><code>StreamBasis</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/MassBalanceOpt.jl#L488-L494">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.is_flow" href="#MassBalanceOpt.is_flow"><code>MassBalanceOpt.is_flow</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">is_flow(strm::Stream)</code></pre><p>Return <code>true</code> if the <code>strm</code> basis=<code>FLOW</code>, otherwise return false.</p><p>See also <a href="#MassBalanceOpt.is_frac"><code>is_frac</code></a>, <a href="#MassBalanceOpt.StreamBasis"><code>StreamBasis</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/MassBalanceOpt.jl#L497-L503">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.@stream" href="#MassBalanceOpt.@stream"><code>MassBalanceOpt.@stream</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@stream(name, comps, ex_basis=:(basis=FRAC))</code></pre><p>Create a Stream named <code>name</code> with component set <code>comps</code> and <code>StreamBasis</code> <code>basis</code>. <code>@stream</code> assumes that the model is stored in a variable named <code>m</code> and the active flowsheet is stored in a variable named <code>fs</code> in the current scope.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">julia&gt; feed = @stream(feed, comps_feed)

julia&gt; prod = @stream(feed, comps_prod, basis=FLOW)</code></pre><p>See also <a href="#MassBalanceOpt.Stream"><code>Stream</code></a>, <a href="#MassBalanceOpt.@streams"><code>@streams</code></a>, <a href="#MassBalanceOpt.StreamBasis"><code>StreamBasis</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/macros.jl#L514-L528">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.@streams" href="#MassBalanceOpt.@streams"><code>MassBalanceOpt.@streams</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@streams(blk)</code></pre><p>Create a tuple of Streams using the expressions in the <code>begin</code>/<code>end</code> block <code>blk</code>. <code>@streams</code> assumes that the model is stored in a variable named <code>m</code> and the active flowsheet is stored in a variable named <code>fs</code> in the current scope.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">julia&gt; (ethfd, profd, cgcout) = @streams(begin
    ethfd, comps_ethfeed
    profd, comps_profeed
    cgcout, comps_cg, (basis=FLOW)
end)</code></pre><p>See also <a href="#MassBalanceOpt.Stream"><code>Stream</code></a>, <a href="#MassBalanceOpt.@stream"><code>@stream</code></a>, <a href="#MassBalanceOpt.StreamBasis"><code>StreamBasis</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/macros.jl#L533-L549">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.copy_stream" href="#MassBalanceOpt.copy_stream"><code>MassBalanceOpt.copy_stream</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">copy_stream(strm::Stream)</code></pre><p>Copy the values of the <code>strm</code> variables in <code>strm</code>&#39;s <code>from</code> block into the values of the <code>strm</code> variables in <code>strm</code>&#39;s <code>to</code> block. If either the <code>to</code> or <code>from</code> field of <code>strm</code> is empty, do nothing.</p><p>See also <a href="#MassBalanceOpt.copy_streams"><code>copy_streams</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/MassBalanceOpt.jl#L541-L548">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.copy_streams" href="#MassBalanceOpt.copy_streams"><code>MassBalanceOpt.copy_streams</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">copy_streams(strms::Vector{Stream})</code></pre><p>Invoke <code>copy_stream</code> for each element of <code>strms</code>.</p><p>See also <a href="#MassBalanceOpt.copy_stream"><code>copy_stream</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/MassBalanceOpt.jl#L560-L566">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.make_stream_vars!" href="#MassBalanceOpt.make_stream_vars!"><code>MassBalanceOpt.make_stream_vars!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">make_stream_vars!(m::Model, strm::Stream, prefix::AbstractString, var_list::Vector{VariableRef})
    -&gt; Dict{Symbol, Any}</code></pre><p>Create stream variables for <code>strm</code> using <code>prefix</code> at the beginning of the variable names. Add the new variables to <code>var_list</code>. Return the stream variables in a dictionary.</p><p>See also <a href="#MassBalanceOpt.Stream"><code>Stream</code></a>, <a href="#MassBalanceOpt.set_stream_var_specs!"><code>set_stream_var_specs!</code></a>, <a href="#MassBalanceOpt.make_var!"><code>make_var!</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/MassBalanceOpt.jl#L665-L673">source</a></section><section><div><pre><code class="language-julia hljs">make_stream_vars!(m::Model, strms::Vector{Stream}, prefix::AbstractString, var_list::Vector{VariableRef})
    -&gt; Dict{Symbol, Dict}</code></pre><p>Create stream variables for all the streams in the array <code>strms</code> and return them in a dictionary.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/MassBalanceOpt.jl#L689-L694">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.set_stream_var_specs!" href="#MassBalanceOpt.set_stream_var_specs!"><code>MassBalanceOpt.set_stream_var_specs!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">set_stream_var_specs!(strms::Vector{Stream}, vars::Dict{Symbol, Dict})</code></pre><p>Fix the variables stored in <code>vars</code>, for each stream in <code>strms</code>, equal to default values.</p><p>See also <a href="#MassBalanceOpt.Stream"><code>Stream</code></a>, <a href="#MassBalanceOpt.make_stream_vars!"><code>make_stream_vars!</code></a>, <a href="#JuMP.fix-Tuple{VariableRef}"><code>fix</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/MassBalanceOpt.jl#L706-L712">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.Mixer" href="#MassBalanceOpt.Mixer"><code>MassBalanceOpt.Mixer</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Mixer &lt;: AbstractBlock</code></pre><p>Mix two or more inlet streams into one outlet stream.</p><p>Create a <code>Mixer</code> block:</p><pre><code class="language-julia hljs">    Mixer(m::Model, name::Symbol, fs::Flowsheet, inlets::Vector{Stream}, outlet::Stream)</code></pre><p>or if the current scope contains <code>m</code> and <code>fs</code> bound to a <code>Model</code> and <code>Flowsheet</code>:</p><pre><code class="language-julia hljs">    @block(name, Mixer, inlets, outlet)</code></pre><p><strong>Examples</strong></p><pre><code class="language-julia hljs">julia&gt; m = Model(); fs = Flowsheet(); comps = @components A B;

julia&gt; (in1, in2, out) = @streams begin
           in1, comps
           in2, comps
           out, comps
       end;

julia&gt; mix1 = @block(mix1, Mixer, [in1, in2], out);

julia&gt; print_vars(mix1)
              Name               Fix      Value          Lower          Upper          Start     
--------------------------------|---|--------------|--------------|--------------|--------------|
mix1_in1_mass                     ==              1|              |              |             1|
mix1_in1_A_massfrac               ==            0.5|              |              |           0.5|
mix1_in1_B_massfrac               ==            0.5|              |              |           0.5|
mix1_in2_mass                     ==              1|              |              |             1|
mix1_in2_A_massfrac               ==            0.5|              |              |           0.5|
mix1_in2_B_massfrac               ==            0.5|              |              |           0.5|
mix1_out_mass                                      |              |              |              |
mix1_out_A_massfrac                                |              |              |              |
mix1_out_B_massfrac                                |              |              |              |
9 variables</code></pre><p>See also <a href="#MassBalanceOpt.Stream"><code>Stream</code></a>, <a href="#MassBalanceOpt.Splitter"><code>Splitter</code></a>, <a href="#MassBalanceOpt.Separator"><code>Separator</code></a>, <a href="#MassBalanceOpt.YieldReactor"><code>YieldReactor</code></a>, <a href="#MassBalanceOpt.MultiYieldReactor"><code>MultiYieldReactor</code></a>, <a href="#MassBalanceOpt.StoicReactor"><code>StoicReactor</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/Mixer.jl#L1-L44">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.Splitter" href="#MassBalanceOpt.Splitter"><code>MassBalanceOpt.Splitter</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Splitter &lt;: AbstractBlock</code></pre><p>Split one inlet stream into two or more outlet streams.</p><p>Create a <code>Splitter</code> block:</p><pre><code class="language-julia hljs">    Splitter(m::Model, name::Symbol, fs::Flowsheet, inlet::Stream, outlets::Vector{Stream})</code></pre><p>or if the current scope contains <code>m</code> and <code>fs</code> bound to a <code>Model</code> and <code>Flowsheet</code>:</p><pre><code class="language-julia hljs">    @block(name, Splitter, inlet, outlets)</code></pre><p><strong>Examples</strong></p><pre><code class="language-julia hljs">julia&gt; m = Model(); fs = Flowsheet(); comps = @components A B;

julia&gt; (in1, out1, out2) = @streams begin
           in1, comps
           out1, comps
           out2, comps
       end;

julia&gt; spl = @block(spl, Splitter, in1, [out1, out2]);

julia&gt; print_vars(spl)
              Name               Fix      Value          Lower          Upper          Start     
--------------------------------|---|--------------|--------------|--------------|--------------|
spl_in1_mass                      ==              1|              |              |             1|
spl_in1_A_massfrac                ==            0.5|              |              |           0.5|
spl_in1_B_massfrac                ==            0.5|              |              |           0.5|
spl_out1_mass                                      |              |              |              |
spl_out1_A_massfrac                                |              |              |              |
spl_out1_B_massfrac                                |              |              |              |
spl_out2_mass                                      |              |              |              |
spl_out2_A_massfrac                                |              |              |              |
spl_out2_B_massfrac                                |              |              |              |
spl_out1_split_frac               ==            0.5|              |              |           0.5|
spl_out2_split_frac                                |              |              |           0.5|
11 variables</code></pre><p>See also <a href="#MassBalanceOpt.Stream"><code>Stream</code></a>, <a href="#MassBalanceOpt.Mixer"><code>Mixer</code></a>, <a href="#MassBalanceOpt.Separator"><code>Separator</code></a>, <a href="#MassBalanceOpt.YieldReactor"><code>YieldReactor</code></a>, <a href="#MassBalanceOpt.MultiYieldReactor"><code>MultiYieldReactor</code></a>, <a href="#MassBalanceOpt.StoicReactor"><code>StoicReactor</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/Splitter.jl#L1-L46">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.Separator" href="#MassBalanceOpt.Separator"><code>MassBalanceOpt.Separator</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Separator &lt;: AbstractBlock</code></pre><p>Separate the components in the inlet stream into two or more outlet streams.</p><p>Create a <code>Separator</code> block:</p><pre><code class="language-julia hljs">    Separator(m::Model, name::Symbol, fs::Flowsheet, inlet::Stream, outlets::Vector{Stream})</code></pre><p>or if the current scope contains <code>m</code> and <code>fs</code> bound to a <code>Model</code> and <code>Flowsheet</code>:</p><pre><code class="language-julia hljs">    @block(name, Separator, inlet, outlets)</code></pre><p><strong>Examples</strong></p><pre><code class="language-julia hljs">julia&gt; m = Model(); fs = Flowsheet(); comps = @components A B;

julia&gt; (in1, out1, out2) = @streams begin
    in1, comps
    out1, comps
    out2, comps
end;

julia&gt; sep = @block(sep, Separator, in1, [out1, out2]);

julia&gt; @set sep_A_out1_split = 0.3

julia&gt; @set sep_B_out1_split = 0.6

julia&gt; set_start_values(sep)

julia&gt; print_vars(sep)
              Name               Fix      Value          Lower          Upper          Start     
--------------------------------|---|--------------|--------------|--------------|--------------|
sep_in1_mass                      ==              1|              |              |             1|
sep_in1_A_massfrac                ==            0.5|              |              |           0.5|
sep_in1_B_massfrac                ==            0.5|              |              |           0.5|
sep_out1_mass                                      |              |              |          0.45|
sep_out1_A_massfrac                                |              |              |     0.3333333|
sep_out1_B_massfrac                                |              |              |     0.6666667|
sep_out2_mass                                      |              |              |          0.55|
sep_out2_A_massfrac                                |              |              |     0.6363636|
sep_out2_B_massfrac                                |              |              |     0.3636364|
sep_in1_A_mass                                     |              |              |           0.5|
sep_in1_B_mass                                     |              |              |           0.5|
sep_out1_A_mass                                    |              |              |          0.15|
sep_out1_B_mass                                    |              |              |           0.3|
sep_out2_A_mass                                    |              |              |          0.35|
sep_out2_B_mass                                    |              |              |           0.2|
sep_A_out1_split                  ==            0.3|              |              |           0.3|
sep_A_out2_split                                   |              |              |           0.7|
sep_B_out1_split                  ==            0.6|              |              |           0.6|
sep_B_out2_split                                   |              |              |           0.4|
19 variables</code></pre><p>See also <a href="#MassBalanceOpt.Stream"><code>Stream</code></a>, <a href="#MassBalanceOpt.Mixer"><code>Mixer</code></a>, <a href="#MassBalanceOpt.Splitter"><code>Splitter</code></a>, <a href="#MassBalanceOpt.YieldReactor"><code>YieldReactor</code></a>, <a href="#MassBalanceOpt.MultiYieldReactor"><code>MultiYieldReactor</code></a>, <a href="#MassBalanceOpt.StoicReactor"><code>StoicReactor</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/Separator.jl#L1-L59">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.@stoic" href="#MassBalanceOpt.@stoic"><code>MassBalanceOpt.@stoic</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@stoic(expr)</code></pre><p>Create an array of OrderedDicts, each of which encodes the stoichiometric coefficients of a single reaction. The <code>expr</code> should be one or more balanced chemical reactions written in the form:</p><pre><code class="nohighlight hljs">aA + bB + ... =&gt; cC + dD</code></pre><p>where <code>a</code>, <code>b</code>, etc. are real or integer stoichiometric coefficients, and <code>A</code>, <code>B</code>, etc. are species. The returned array looks like:</p><pre><code class="nohighlight hljs">coef[1] = OrderedDict(:A =&gt; -a, :B =&gt; -b, :C =&gt; c, :D =&gt; d)   # coefficients for reaction 1
coef[2] = OrderedDict(:A =&gt; -a, :B =&gt; -b, :C =&gt; c, :D =&gt; d)   # coefficients for reaction 2
  ...</code></pre><p>Note that the coefficients in the OrderedDict are positive for products and negative for reactants.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">julia&gt; coef = @stoic A + B =&gt; C
julia&gt; coef
1-element Vector{OrderedCollections.OrderedDict{Symbol, Real}}:
 OrderedCollections.OrderedDict(:A =&gt; -1, :B =&gt; -1, :C =&gt; 1)

julia&gt; @stoic begin
        A + B =&gt; C
      2A + 3B =&gt; 4C + D
    end
2-element Vector{OrderedCollections.OrderedDict{Symbol, Real}}:
OrderedCollections.OrderedDict(:A =&gt; -1, :B =&gt; -1, :C =&gt; 1)
OrderedCollections.OrderedDict(:A =&gt; -2, :B =&gt; -3, :C =&gt; 4, :D =&gt; 1)</code></pre><p>See also <a href="#MassBalanceOpt.StoicReactor"><code>StoicReactor</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/macros.jl#L303-L337">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.StoicReactor" href="#MassBalanceOpt.StoicReactor"><code>MassBalanceOpt.StoicReactor</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">StoicReactor &lt;: AbstractBlock</code></pre><p>Model a reactor in which a set of stoichiometric reactions with specified conversions takes place.</p><p>Create a <code>StoicReactor</code> block:</p><pre><code class="language-julia hljs">    StoicReactor(m::Model, name::Symbol, fs::Flowsheet, inlet::Stream, outlet::Stream,
        stoic_coef::Vector{OrderedDict{Symbol, Real}}, 
        mw::Dict{Symbol, Float64},
        conv::OrderedDict{Int, NamedTuple{(:c, :X), Tuple{Symbol, Float64}}}= OrderedDict{Int, NamedTuple{(:c, :X),
                               Tuple{Symbol, Float64}}}())</code></pre><p>or if the current scope contains <code>m</code> and <code>fs</code> bound to a <code>Model</code> and <code>Flowsheet</code>:</p><pre><code class="nohighlight hljs">    @block(name, StoicReactor, inlet, outlet, stoic_coef, mw, conv)</code></pre><p><strong>Examples</strong></p><pre><code class="language-julia hljs">julia&gt; m = Model(); fs = Flowsheet(); comps1 = @components A B; comps2 = @components A B C D;

julia&gt; (in1, out1) = @streams begin
    in1, comps1
    out1, comps2
end;

julia&gt; mw = Dict(:A =&gt; 30.0, :B =&gt; 28.0, :C =&gt; 35.0, :D =&gt; 30.0);

julia&gt; coef = @stoic A + B =&gt; C + D
1-element Vector{OrderedDict{Symbol, Real}}:
 OrderedDict(:A =&gt; -1, :B =&gt; -1, :C =&gt; 1, :D =&gt; 1)

 julia&gt; conv = OrderedDict(1 =&gt; (c=:A, X=0.65))
 OrderedDict{Int64, NamedTuple{(:c, :X), Tuple{Symbol, Float64}}} with 1 entry:
   1 =&gt; (c = :A, X = 0.65)
   
julia&gt; r1 = @block(r1, StoicReactor, in1, out1, coef, mw, conv);

julia&gt; print_vars(r1)
              Name               Fix      Value          Lower          Upper          Start     
--------------------------------|---|--------------|--------------|--------------|--------------|
r1_in1_mass                       ==              1|              |              |             1|
r1_in1_A_massfrac                 ==            0.5|              |              |           0.5|
r1_in1_B_massfrac                 ==            0.5|              |              |           0.5|
r1_out1_mass                                       |              |              |              |
r1_out1_A_massfrac                                 |              |              |              |
r1_out1_B_massfrac                                 |              |              |              |
r1_out1_C_massfrac                                 |              |              |              |
r1_out1_D_massfrac                                 |              |              |              |
r1_in1_A_mass                                      |              |              |              |
r1_in1_B_mass                                      |              |              |              |
r1_out1_A_mass                                     |              |              |              |
r1_out1_B_mass                                     |              |              |              |
r1_out1_C_mass                                     |              |              |              |
r1_out1_D_mass                                     |              |              |              |
r1_in1_A_moles                                     |              |              |              |
r1_in1_B_moles                                     |              |              |              |
r1_out1_A_moles                                    |              |              |              |
r1_out1_B_moles                                    |              |              |              |
r1_out1_C_moles                                    |              |              |              |
r1_out1_D_moles                                    |              |              |              |
r1_extent_rx_1                                     |              |              |              |
r1_conv_A_rx_1                    ==           0.65|              |              |          0.65|
22 variables</code></pre><p>See also <a href="#MassBalanceOpt.@stoic"><code>@stoic</code></a>, <a href="#MassBalanceOpt.Stream"><code>Stream</code></a>, <a href="#MassBalanceOpt.YieldReactor"><code>YieldReactor</code></a>, <a href="#MassBalanceOpt.MultiYieldReactor"><code>MultiYieldReactor</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/StoicReactor.jl#L1-L69">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.YieldReactor" href="#MassBalanceOpt.YieldReactor"><code>MassBalanceOpt.YieldReactor</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">YieldReactor &lt;: AbstractBlock</code></pre><p>Model a reactor with one inlet and one outlet stream, in which each component in the inlet stream has a specified yield to the components in the outlet stream.</p><p>Create a <code>YieldReactor</code> block:</p><pre><code class="language-julia hljs">    YieldReactor(m::Model, name::Symbol, fs::Flowsheet, inlet::Stream, outlet::Stream)</code></pre><p>julia or if the current scope contains <code>m</code> and <code>fs</code> bound to a <code>Model</code> and <code>Flowsheet</code>:</p><pre><code class="nohighlight hljs">    @block(name, YieldReactor, inlet, outlet)</code></pre><p><strong>Examples</strong></p><pre><code class="language-julia hljs">julia&gt; m = Model(); fs = Flowsheet(); comps1 = @components A B; comps2 = @components A B C D;

julia&gt; (in1, out1) = @streams begin
    in1, comps1
    out1, comps2
end;

julia&gt; r1 = @block(r1, YieldReactor, in1, out1);

julia&gt; @set begin
    r1_y_C_from_A = 0.3
    r1_y_D_from_A = 0.4
    r1_y_C_from_B = 0.6
    r1_y_D_from_B = 0.1
end

julia&gt; set_start_values(r1)

julia&gt; print_vars(r1)
Name                             Fix      Value          Lower          Upper          Start     
--------------------------------|---|--------------|--------------|--------------|--------------|
r1_in1_mass                       ==              1|              |              |             1|
r1_in1_A_massfrac                 ==            0.5|              |              |           0.5|
r1_in1_B_massfrac                 ==            0.5|              |              |           0.5|
r1_out1_mass                                       |              |              |             1|
r1_out1_A_massfrac                                 |              |              |          0.15|
r1_out1_B_massfrac                                 |              |              |          0.15|
r1_out1_C_massfrac                                 |              |              |          0.45|
r1_out1_D_massfrac                                 |              |              |          0.25|
r1_in1_A_mass                                      |              |              |           0.5|
r1_in1_B_mass                                      |              |              |           0.5|
r1_out1_A_mass                                     |              |              |          0.15|
r1_out1_B_mass                                     |              |              |          0.15|
r1_out1_C_mass                                     |              |              |          0.45|
r1_out1_D_mass                                     |              |              |          0.25|
r1_y_A_from_A                                      |              |              |           0.3|
r1_y_B_from_A                     ==              0|              |              |             0|
r1_y_C_from_A                     ==            0.3|              |              |           0.3|
r1_y_D_from_A                     ==            0.4|              |              |           0.4|
r1_y_A_from_B                     ==              0|              |              |             0|
r1_y_B_from_B                                      |              |              |           0.3|
r1_y_C_from_B                     ==            0.6|              |              |           0.6|
r1_y_D_from_B                     ==            0.1|              |              |           0.1|
22 variables</code></pre><p>See also <a href="#MassBalanceOpt.Stream"><code>Stream</code></a>, <a href="#MassBalanceOpt.MultiYieldReactor"><code>MultiYieldReactor</code></a>, <a href="#MassBalanceOpt.StoicReactor"><code>StoicReactor</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/YieldReactor.jl#L1-L65">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.MultiYieldReactor" href="#MassBalanceOpt.MultiYieldReactor"><code>MassBalanceOpt.MultiYieldReactor</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">MultiYieldReactor &lt;: AbstractBlock</code></pre><p>Model a reactor with multiple inlet and outlet streams. This is used to represent a set of YieldReactors operating in parallel. The number of inlet streams must equal the number of outlet streams, and the length of <code>feed_names</code> must equal the number of streams.</p><p>Create a <code>MultiYieldReactor</code> block:</p><pre><code class="language-julia hljs">    MultiYieldReactor(m::Model, name::Symbol, fs::Flowsheet, inlets::Vector{Stream}, outlets::Vector{Stream},
         feed_names::Vector{Symbol}, reactor_name::Symbol)</code></pre><p>or if the current scope contains <code>m</code> and <code>fs</code> bound to a <code>Model</code> and <code>Flowsheet</code>:</p><pre><code class="nohighlight hljs">    @block(name, MultiYieldReactor, inlets, outlets, feed_names, reactor_name)</code></pre><p><strong>Examples</strong></p><pre><code class="language-julia hljs">julia&gt; m = Model(); fs = Flowsheet();

julia&gt; compsA = @components(A); compsB = @components(B); comps_out = @components A B C D;

julia&gt; (feedA, feedB, outA, outB) = @streams begin
    feedA, compsA
    feedB, compsB
    outA , comps_out
    outB , comps_out
end;

julia&gt; r1 = @block(r1, MultiYieldReactor, [feedA, feedB], [outA, outB], [:feedA, :feedB], :rx);

julia&gt; print_vars(r1)
              Name               Fix      Value          Lower          Upper          Start     
--------------------------------|---|--------------|--------------|--------------|--------------|
r1_feedA_mass                     ==              1|              |              |             1|
r1_feedA_A_massfrac               ==              1|              |              |             1|
r1_feedB_mass                     ==              1|              |              |             1|
r1_feedB_B_massfrac               ==              1|              |              |             1|
r1_outA_mass                                       |              |              |              |
r1_outA_A_massfrac                                 |              |              |              |
r1_outA_B_massfrac                                 |              |              |              |
r1_outA_C_massfrac                                 |              |              |              |
r1_outA_D_massfrac                                 |              |              |              |
r1_outB_mass                                       |              |              |              |
r1_outB_A_massfrac                                 |              |              |              |
r1_outB_B_massfrac                                 |              |              |              |
r1_outB_C_massfrac                                 |              |              |              |
r1_outB_D_massfrac                                 |              |              |              |
r1_feedA_A_mass                                    |              |              |              |
r1_feedB_B_mass                                    |              |              |              |
r1_outA_A_mass                                     |              |              |              |
r1_outA_B_mass                                     |              |              |              |
r1_outA_C_mass                                     |              |              |              |
r1_outA_D_mass                                     |              |              |              |
r1_outB_A_mass                                     |              |              |              |
r1_outB_B_mass                                     |              |              |              |
r1_outB_C_mass                                     |              |              |              |
r1_outB_D_mass                                     |              |              |              |
r1_total_feed_mass                                 |              |              |              |
r1_feedA_n_rx                                      |              |              |              |
r1_feedA_rate                     ==              1|              |              |             1|
r1_feedB_n_rx                                      |              |              |              |
r1_feedB_rate                     ==              1|              |              |             1|
r1_n_rx                                            |              |              |              |
r1_feedA_y_A_from_A                                |              |              |             0|
r1_feedA_y_B_from_A               ==              0|              |              |             0|
r1_feedA_y_C_from_A               ==              0|              |              |             0|
r1_feedA_y_D_from_A               ==              0|              |              |             0|
r1_feedB_y_A_from_B               ==              0|              |              |             0|
r1_feedB_y_B_from_B                                |              |              |             0|
r1_feedB_y_C_from_B               ==              0|              |              |             0|
r1_feedB_y_D_from_B               ==              0|              |              |             0|
38 variables</code></pre><p>See also <a href="#MassBalanceOpt.Stream"><code>Stream</code></a>, <a href="#MassBalanceOpt.YieldReactor"><code>YieldReactor</code></a>, <a href="#MassBalanceOpt.StoicReactor"><code>StoicReactor</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/MultiYieldReactor.jl#L1-L78">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.@block" href="#MassBalanceOpt.@block"><code>MassBalanceOpt.@block</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@block(name, kind, args...)</code></pre><p>Create a block named <code>name</code> with type <code>kind</code> in flowsheet <code>fs</code> using arguments <code>args...</code>. The value of <code>kind</code> must be a subtype of <code>AbstractBlock</code>. <code>@block</code> assumes that the model is stored in a variable named <code>m</code> and the active flowsheet is stored in a variable named <code>fs</code> in the current scope.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">julia&gt; ctdc1 = @block(ctdc1, Separator, arxo, [offgas, dc1bt])

julia&gt; arx = @block(arx, StoicReactor, dc2oh, arxo, arx_stoic, arx_mw, arx_conv)</code></pre><p>See also <a href="#MassBalanceOpt.Mixer"><code>Mixer</code></a>, <a href="#MassBalanceOpt.Splitter"><code>Splitter</code></a>, <a href="#MassBalanceOpt.Separator"><code>Separator</code></a>, <a href="#MassBalanceOpt.YieldReactor"><code>YieldReactor</code></a>,     <a href="#MassBalanceOpt.MultiYieldReactor"><code>MultiYieldReactor</code></a>, <a href="#MassBalanceOpt.StoicReactor"><code>StoicReactor</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/macros.jl#L564-L579">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.@Block_fields" href="#MassBalanceOpt.@Block_fields"><code>MassBalanceOpt.@Block_fields</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@Block_fields</code></pre><p>Create the fields typically used in a block. They are:</p><pre><code class="language-julia hljs">    name::Symbol
    fs::Flowsheet
    inlets::Vector{Stream}
    outlets::Vector{Stream}
    strm_vars::Dict{Symbol, Dict}
    var_list::Vector{VariableRef}
    eq_list::Vector{ConstraintRef}</code></pre><p>See also <a href="#MassBalanceOpt.AbstractBlock"><code>AbstractBlock</code></a>, <a href="#MassBalanceOpt.@Block_init"><code>@Block_init</code></a>, <a href="#MassBalanceOpt.@Block_finish"><code>@Block_finish</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/blocks.jl#L1-L16">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.@Block_init" href="#MassBalanceOpt.@Block_init"><code>MassBalanceOpt.@Block_init</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@Block_init</code></pre><p>Create the stream variables used in a block and set their specs.</p><p>See also <a href="#MassBalanceOpt.AbstractBlock"><code>AbstractBlock</code></a>, <a href="#MassBalanceOpt.@Block_fields"><code>@Block_fields</code></a>, <a href="#MassBalanceOpt.@Block_finish"><code>@Block_finish</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/blocks.jl#L29-L35">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.@Block_finish" href="#MassBalanceOpt.@Block_finish"><code>MassBalanceOpt.@Block_finish</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@Block_finish</code></pre><p>Assign a newly created block referenced by <code>self</code> to its container flowsheet, and record the block in the <code>to</code> and <code>from</code> fields of the inlet and outlet streams.</p><p>See also <a href="#MassBalanceOpt.AbstractBlock"><code>AbstractBlock</code></a>, <a href="#MassBalanceOpt.@Block_fields"><code>@Block_fields</code></a>, <a href="#MassBalanceOpt.@Block_init"><code>@Block_init</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/blocks.jl#L47-L54">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.make_mass_flow_vars!" href="#MassBalanceOpt.make_mass_flow_vars!"><code>MassBalanceOpt.make_mass_flow_vars!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">make_mass_flow_vars!(m::Model,
                     prefix::AbstractString,
                     inlets::Vector{Stream},
                     outlets::Vector{Stream},
                     strm_vars::Dict{Symbol, Dict},
                     var_list::Vector{VariableRef},
                     eq_list::Vector{ConstraintRef})::Dict{Symbol, Dict}</code></pre><p>Conditionally create component mass flow rate variables for the streams in <code>inlets</code> and <code>outlets</code>. If the stream has a <code>FLOW</code> basis, component mass flow rate variables already exist. If the stream has a <code>FRAC</code> basis, make new component mass flow variables and equations to calculate them. Add equations to calculate the outlet stream total mass flow rates from the component mass flow rates.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/blocks.jl#L79-L93">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuMP.set_start_values-Tuple{AbstractBlock}" href="#JuMP.set_start_values-Tuple{AbstractBlock}"><code>JuMP.set_start_values</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">set_start_values(blk::AbstractBlock; copy_inlets::Bool=true)</code></pre><p>Set the start values of the block variables in <code>blk</code>. If <code>copy_inlets=false</code>, don&#39;t copy the inlet stream variable start values from the upstream block.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/blocks.jl#L63-L68">source</a></section></article><h2 id="Variables-and-Equations"><a class="docs-heading-anchor" href="#Variables-and-Equations">Variables and Equations</a><a id="Variables-and-Equations-1"></a><a class="docs-heading-anchor-permalink" href="#Variables-and-Equations" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.make_var!" href="#MassBalanceOpt.make_var!"><code>MassBalanceOpt.make_var!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">make_var!(m::Model, name::AbstractString, var_list::Vector{VariableRef})</code></pre><p>Create a new JuMP variable named <code>name</code>, register it in model <code>m</code> as <code>m[:name]</code>, and add it to <code>var_list</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/MassBalanceOpt.jl#L79-L83">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuMP.fix-Tuple{VariableRef}" href="#JuMP.fix-Tuple{VariableRef}"><code>JuMP.fix</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">fix(var::VariableRef, [val::Real])</code></pre><p>If <code>val</code> is passed, fix the variable <code>var</code> equal to <code>val</code> and set its start value to <code>val</code>. If no <code>val</code> is passed, fix the variable equal to its value in the most recent solution. If no solution is available, fix the variable equal to its start value. If no start value is available, fix the variable equal to 0.</p><p>See also <a href="#MassBalanceOpt.free"><code>free</code></a>, <a href="#MassBalanceOpt.@specs"><code>@specs</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/MassBalanceOpt.jl#L318-L327">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.free" href="#MassBalanceOpt.free"><code>MassBalanceOpt.free</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">free(var::VariableRef)</code></pre><p>Delete the fixing constraint for variable <code>var</code>.</p><p>See also <a href="#JuMP.fix-Tuple{VariableRef}"><code>fix</code></a>, <a href="#MassBalanceOpt.@specs"><code>@specs</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/MassBalanceOpt.jl#L334-L340">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.flip" href="#MassBalanceOpt.flip"><code>MassBalanceOpt.flip</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">flip(var1::VariableRef, [var2::VariableRef])</code></pre><p>If <code>var2</code> is passed, invert the specs of <code>var1</code> and <code>var2</code>, i.e., if <code>var1</code> is fixed and <code>var2</code> is free, make <code>var1</code> free and <code>var2</code> fixed; if <code>var1</code> is free and <code>var2</code> is fixed, make <code>var1</code> fixed and <code>var2</code> free. If both vars have the same spec, do nothing.</p><p>If <code>var2</code> is not passed, invert the spec of <code>var1</code>.</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>The newly fixed variable will have its value set to:</p><pre><code class="nohighlight hljs">1. its value in the most recent solution
2. its start value
3. 0</code></pre><p>in that order. Use <code>set_value</code> or <code>@set</code> to change the value of the newly fixed variable.</p></div></div><p>See also <a href="#MassBalanceOpt.@set"><code>@set</code></a>, <a href="#MassBalanceOpt.@specs"><code>@specs</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/MassBalanceOpt.jl#L357-L378">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.connect" href="#MassBalanceOpt.connect"><code>MassBalanceOpt.connect</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">connect(var_lhs::VariableRef, var_rhs::VariableRef)</code></pre><p>Given two variables <code>var_lhs</code> and <code>var_rhs</code>, at least one of which is fixed, add a new constraint:</p><pre><code class="nohighlight hljs">var_lhs == var_rhs</code></pre><p>If both variables are fixed, free <code>var_rhs</code>. Otherwise free the single fixed variable. If both variables are free, don&#39;t add a new constraint and return <code>nothing</code>.</p><p>Return the newly created ConstraintRef. See also <a href="#MassBalanceOpt.@set"><code>@set</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/MassBalanceOpt.jl#L388-L400">source</a></section><section><div><pre><code class="language-julia hljs">connect(strm::Stream)</code></pre><p>Connect all the variables in the source and destination blocks of <code>strm</code>. If the stream has no source, or no destination, do nothing.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/MassBalanceOpt.jl#L515-L520">source</a></section><section><div><pre><code class="language-julia hljs">connect(m::Model, strms::Vector{Stream})</code></pre><p>Connect all the streams in the array <code>strms</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/MassBalanceOpt.jl#L534-L538">source</a></section><section><div><pre><code class="language-julia hljs">connect(fs::Flowsheet)</code></pre><p>Connect all the streams in the flowsheet <code>fs</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/MassBalanceOpt.jl#L652-L656">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuMP.set_value-Tuple{VariableRef, Real}" href="#JuMP.set_value-Tuple{VariableRef, Real}"><code>JuMP.set_value</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">set_value(var::VariableRef, val::Real)</code></pre><p>If <code>var</code> is fixed, reset its fixed value to <code>val</code>. If <code>var</code> is free, set its start value to <code>val</code>.</p><p>See also <a href="#JuMP.fix-Tuple{VariableRef}"><code>fix</code></a>, <a href="#MassBalanceOpt.@set"><code>@set</code></a>, <a href="#MassBalanceOpt.@values"><code>@values</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/MassBalanceOpt.jl#L343-L350">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.set_lower" href="#MassBalanceOpt.set_lower"><code>MassBalanceOpt.set_lower</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">set_lower(var::VariableRef, lower::Real)</code></pre><p>If <code>var</code> is not fixed, set its lower bound to <code>lower</code>.</p><p>See also <a href="#MassBalanceOpt.set_upper"><code>set_upper</code></a>, <a href="#MassBalanceOpt.delete_lower"><code>delete_lower</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/macros.jl#L1-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.set_upper" href="#MassBalanceOpt.set_upper"><code>MassBalanceOpt.set_upper</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">set_upper(var::VariableRef, lower::Real)</code></pre><p>If <code>var</code> is not fixed, set its upper bound to <code>upper</code>.</p><p>See also <a href="#MassBalanceOpt.set_lower"><code>set_lower</code></a>, <a href="#MassBalanceOpt.delete_upper"><code>delete_upper</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/macros.jl#L10-L16">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.delete_lower" href="#MassBalanceOpt.delete_lower"><code>MassBalanceOpt.delete_lower</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">delete_lower(var::VariableRef)</code></pre><p>If <code>var</code> is not fixed and has a lower bound, delete its lower bound.</p><p>See also <a href="#MassBalanceOpt.set_lower"><code>set_lower</code></a>, <a href="#MassBalanceOpt.delete_upper"><code>delete_upper</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/macros.jl#L19-L25">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.delete_upper" href="#MassBalanceOpt.delete_upper"><code>MassBalanceOpt.delete_upper</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">delete_upper(var::VariableRef)</code></pre><p>If <code>var</code> is not fixed and has an upper bound, delete its upper bound.</p><p>See also <a href="#MassBalanceOpt.set_upper"><code>set_upper</code></a>, <a href="#MassBalanceOpt.delete_lower"><code>delete_lower</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/macros.jl#L28-L34">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.@set" href="#MassBalanceOpt.@set"><code>MassBalanceOpt.@set</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@set expr</code></pre><p>Do the operations described by <code>expr</code> (see examples below). <code>@set</code> assumes that the model is stored in a variable named <code>m</code> in the current scope.</p><p><strong>Examples</strong></p><p>Set the value of the variable <code>var</code> to 100.0. If the variable is fixed, set the fixed value to 100.0, otherwise set the start value to 100.0:</p><pre><code class="language-julia hljs">julia&gt; @set var = 100.0</code></pre><p>Connect variables <code>var1</code> and <code>var2</code>. This adds the equation <code>var1 == var2</code> to the model. At least one of the variables must be fixed:</p><pre><code class="language-julia hljs">julia&gt; @set var1 = var2</code></pre><p>Set the upper bound on <code>var</code> to 100.0:</p><pre><code class="language-julia hljs">julia&gt; @set var &lt;= 100.0</code></pre><p>Set the upper bound on <code>var</code> to 100.0:</p><pre><code class="language-julia hljs">julia&gt; @set var &lt;= 100.0</code></pre><p>Delete the upper bound on <code>var</code>:</p><pre><code class="language-julia hljs">julia&gt; @set var &lt;= Inf</code></pre><p>Delete the lower bound on <code>var</code>:</p><pre><code class="language-julia hljs">julia&gt; @set -Inf &lt;= var</code></pre><p>Delete the lower and upper bounds on <code>var</code>:</p><pre><code class="language-julia hljs">julia&gt; @set -Inf &lt;= var &lt;= Inf</code></pre><p>Flip the specs on <code>var1</code> and <code>var2</code>. If <code>var1</code> is fixed and <code>var2</code> is free, free <code>var1</code> and fix <code>var2</code>. If <code>var1</code> is free and <code>var2</code> is fixed, fix <code>var1</code> and free <code>var2</code>. If both variables have the same spec, do nothing:</p><pre><code class="language-julia hljs">julia&gt; @set var1 ~ var2</code></pre><p>Flip the spec on <code>var</code>. If <code>var</code> is fixed, free <code>var</code>. If <code>var</code> is free, fix <code>var</code>:</p><pre><code class="language-julia hljs">julia&gt; @set ~var</code></pre><p>Fix <code>var</code>:</p><pre><code class="language-julia hljs">julia&gt; @set +var</code></pre><p>Free <code>var</code>:</p><pre><code class="language-julia hljs">julia&gt; @set -var</code></pre><p>Set the lower and upper bounds on <code>var</code>:</p><pre><code class="language-julia hljs">julia&gt; @set 1.0 &lt; var &lt; 2.0
julia&gt; @set 2.0 &gt; var &gt; 1.0</code></pre><p>Combine several operations in a <code>begin</code>/<code>end</code> block:</p><pre><code class="language-julia hljs">julia&gt; @set begin
    x &gt; 1.0
    y &lt; 2.0
    1.0 &lt; z &lt; 2.0
    p ~ q
end</code></pre><p>See also <a href="#MassBalanceOpt.@values"><code>@values</code></a>, <a href="#MassBalanceOpt.@specs"><code>@specs</code></a>, <a href="#MassBalanceOpt.@bounds"><code>@bounds</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/macros.jl#L352-L433">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.@values" href="#MassBalanceOpt.@values"><code>MassBalanceOpt.@values</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@values expr</code></pre><p>Alias for <code>@set</code>.</p><p>See also <a href="#MassBalanceOpt.@set"><code>@set</code></a>, <a href="#MassBalanceOpt.@specs"><code>@specs</code></a>, <a href="#MassBalanceOpt.@bounds"><code>@bounds</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/macros.jl#L438-L444">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.@specs" href="#MassBalanceOpt.@specs"><code>MassBalanceOpt.@specs</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@specs expr</code></pre><p>Alias for <code>@set</code>.</p><p>See also <a href="#MassBalanceOpt.@set"><code>@set</code></a>, <a href="#MassBalanceOpt.@values"><code>@values</code></a>, <a href="#MassBalanceOpt.@bounds"><code>@bounds</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/macros.jl#L449-L456">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.@bounds" href="#MassBalanceOpt.@bounds"><code>MassBalanceOpt.@bounds</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@bounds expr</code></pre><p>Alias for <code>@set</code>.</p><p>See also <a href="#MassBalanceOpt.@set"><code>@set</code></a>, <a href="#MassBalanceOpt.@values"><code>@values</code></a>, <a href="#MassBalanceOpt.@specs"><code>@specs</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/macros.jl#L461-L468">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.make_eq!" href="#MassBalanceOpt.make_eq!"><code>MassBalanceOpt.make_eq!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">make_eq!(m::Model, name::AbstractString, con::ConstraintRef, eq_list::Vector{ConstraintRef})</code></pre><p>Register the equation <code>con</code> in model <code>m</code> using <code>name</code> as the base name. Add the equation to <code>eq_list</code>.</p><p>See also <a href="#MassBalanceOpt.make_var!"><code>make_var!</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/MassBalanceOpt.jl#L724-L730">source</a></section></article><h2 id="Printing-and-Output"><a class="docs-heading-anchor" href="#Printing-and-Output">Printing and Output</a><a id="Printing-and-Output-1"></a><a class="docs-heading-anchor-permalink" href="#Printing-and-Output" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.print_vars" href="#MassBalanceOpt.print_vars"><code>MassBalanceOpt.print_vars</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">print_vars([io::IO], vars::Vector{VariableRef})</code></pre><p>Print the variables in <code>vars</code> in a table.</p><p>See also <a href="#MassBalanceOpt.print_fixed"><code>print_fixed</code></a>, <a href="#MassBalanceOpt.print_free"><code>print_free</code></a>, <a href="#MassBalanceOpt.print_bounds"><code>print_bounds</code></a>, <a href="#MassBalanceOpt.print_active"><code>print_active</code></a>, <a href="#MassBalanceOpt.print_eqs"><code>print_eqs</code></a>,     <a href="#MassBalanceOpt.write_vars"><code>write_vars</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/MassBalanceOpt.jl#L110-L117">source</a></section><section><div><pre><code class="language-julia hljs">print_vars([io::IO], var::VariableRef)</code></pre><p>Print a single variable <code>var</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/MassBalanceOpt.jl#L130-L134">source</a></section><section><div><pre><code class="language-julia hljs">print_vars([io::IO], m::Model)</code></pre><p>Print all the variables in model <code>m</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/MassBalanceOpt.jl#L138-L142">source</a></section><section><div><pre><code class="language-julia hljs">print_vars([io::IO], blk::AbstractBlock)</code></pre><p>Print all the variables in block <code>blk</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/MassBalanceOpt.jl#L146-L150">source</a></section><section><div><pre><code class="language-julia hljs">print_vars([io::IO], m::Model, glob::AbstractString)</code></pre><p>Print the variables in model <code>m</code> that match <code>glob</code>, where <code>glob</code> is a string containing one or more <code>*</code> wildcard characters.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">julia&gt; print_vars(m, &quot;*mass&quot;)

julia&gt; print_vars(m, &quot;*cgcfeed*&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/MassBalanceOpt.jl#L154-L166">source</a></section><section><div><pre><code class="language-julia hljs">print_vars([io::IO], m::Model, pattern::Regex)</code></pre><p>Print the variables in model <code>m</code> that match the regular expression <code>pattern</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">julia&gt; print_vars(m, r&quot;^.*mass$&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/MassBalanceOpt.jl#L176-L185">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.write_vars" href="#MassBalanceOpt.write_vars"><code>MassBalanceOpt.write_vars</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">write_vars([io::IO], m::Model)</code></pre><p>Write the values of all the variables in <code>m</code> to <code>io</code> in the format:</p><pre><code class="language-julia hljs">@values begin
    var_1 = 1.0
    var_2 = 2.0
     ...
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/MassBalanceOpt.jl#L280-L291">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.print_fixed" href="#MassBalanceOpt.print_fixed"><code>MassBalanceOpt.print_fixed</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">print_fixed([io::IO], m::Model)</code></pre><p>Print all the fixed variables in model <code>m</code>.</p><p>See also <a href="#MassBalanceOpt.print_free"><code>print_free</code></a>, <a href="#MassBalanceOpt.print_bounds"><code>print_bounds</code></a>, <a href="#MassBalanceOpt.print_active"><code>print_active</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/MassBalanceOpt.jl#L196-L202">source</a></section><section><div><pre><code class="language-julia hljs">print_fixed([io::IO], blk::AbstractBlock)</code></pre><p>Print all the fixed variables in block <code>blk</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/MassBalanceOpt.jl#L206-L210">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.print_free" href="#MassBalanceOpt.print_free"><code>MassBalanceOpt.print_free</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">print_free([io::IO], m::Model)</code></pre><p>Print all the free variables in model <code>m</code>.</p><p>See also <a href="#MassBalanceOpt.print_fixed"><code>print_fixed</code></a>, <a href="#MassBalanceOpt.print_bounds"><code>print_bounds</code></a>, <a href="#MassBalanceOpt.print_active"><code>print_active</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/MassBalanceOpt.jl#L214-L220">source</a></section><section><div><pre><code class="language-julia hljs">print_free([op::IO], blk::AbstractBlock)</code></pre><p>Print all the free variables in block <code>blk</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/MassBalanceOpt.jl#L224-L228">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.print_bounds" href="#MassBalanceOpt.print_bounds"><code>MassBalanceOpt.print_bounds</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">print_bounds([io::IO], m::Model)</code></pre><p>Print the variables in <code>m</code> with lower or upper bounds.</p><p>See also <a href="#MassBalanceOpt.print_fixed"><code>print_fixed</code></a>, <a href="#MassBalanceOpt.print_free"><code>print_free</code></a>, <a href="#MassBalanceOpt.print_active"><code>print_active</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/MassBalanceOpt.jl#L236-L242">source</a></section><section><div><pre><code class="language-julia hljs">print_bounds([io::IO], blk::AbstractBlock)</code></pre><p>Print the variables in <code>blk</code> with lower or upper bounds.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/MassBalanceOpt.jl#L246-L250">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.print_active" href="#MassBalanceOpt.print_active"><code>MassBalanceOpt.print_active</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">print_active([io::IO], m::Model)</code></pre><p>Print the variables in <code>m</code> whose values equal their lower or upper bounds.</p><p>See also <a href="#MassBalanceOpt.print_fixed"><code>print_fixed</code></a>, <a href="#MassBalanceOpt.print_free"><code>print_free</code></a>, <a href="#MassBalanceOpt.print_bounds"><code>print_bounds</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/MassBalanceOpt.jl#L256-L262">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.print_eqs" href="#MassBalanceOpt.print_eqs"><code>MassBalanceOpt.print_eqs</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">print_eqs([io::IO], m::Model)</code></pre><p>Print all the equations in model <code>m</code>.</p><p>See also <a href="#MassBalanceOpt.print_vars"><code>print_vars</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/MassBalanceOpt.jl#L740-L746">source</a></section><section><div><pre><code class="language-julia hljs">print_eqs([io::IO], blk::AbstractBlock)</code></pre><p>Print all the equations in block <code>blk</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/MassBalanceOpt.jl#L753-L757">source</a></section><section><div><pre><code class="language-julia hljs">print_eqs([io::IO], m::Model, eq::Symbol)</code></pre><p>Print the equation registered in model <code>m</code> as <code>m[:eq]</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/MassBalanceOpt.jl#L764-L768">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.print_model" href="#MassBalanceOpt.print_model"><code>MassBalanceOpt.print_model</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">print_model([io::IO], model_or_block::Union{Model, AbstractBlock})</code></pre><p>Print all the variables and equations in a model or block specified by <code>model_or_block</code>.</p><p>See also <a href="#MassBalanceOpt.print_vars"><code>print_vars</code></a>, <a href="#MassBalanceOpt.print_eqs"><code>print_eqs</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/MassBalanceOpt.jl#L772-L778">source</a></section></article><h2 id="Solving-Models"><a class="docs-heading-anchor" href="#Solving-Models">Solving Models</a><a id="Solving-Models-1"></a><a class="docs-heading-anchor-permalink" href="#Solving-Models" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.@solve" href="#MassBalanceOpt.@solve"><code>MassBalanceOpt.@solve</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@solve</code></pre><p>Run the function <code>optimize!(m)</code> where <code>m</code> is a JuMP model in the current scope.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/macros.jl#L343-L347">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MassBalanceOpt.eval_obj" href="#MassBalanceOpt.eval_obj"><code>MassBalanceOpt.eval_obj</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">eval_obj(m::Model)</code></pre><p>Evalulate the objective function in <code>m</code>, using the solution values if a solution exists, otherwise using the start values.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gmsowers/MassBalanceOpt/blob/61cbc14617349887d13320a8976566e341bd2d82/src/MassBalanceOpt.jl#L272-L277">source</a></section></article><h2 id="Index"><a class="docs-heading-anchor" href="#Index">Index</a><a id="Index-1"></a><a class="docs-heading-anchor-permalink" href="#Index" title="Permalink"></a></h2><ul><li><a href="#MassBalanceOpt.AbstractBlock"><code>MassBalanceOpt.AbstractBlock</code></a></li><li><a href="#MassBalanceOpt.Flowsheet"><code>MassBalanceOpt.Flowsheet</code></a></li><li><a href="#MassBalanceOpt.Mixer"><code>MassBalanceOpt.Mixer</code></a></li><li><a href="#MassBalanceOpt.MultiYieldReactor"><code>MassBalanceOpt.MultiYieldReactor</code></a></li><li><a href="#MassBalanceOpt.Separator"><code>MassBalanceOpt.Separator</code></a></li><li><a href="#MassBalanceOpt.Splitter"><code>MassBalanceOpt.Splitter</code></a></li><li><a href="#MassBalanceOpt.StoicReactor"><code>MassBalanceOpt.StoicReactor</code></a></li><li><a href="#MassBalanceOpt.Stream"><code>MassBalanceOpt.Stream</code></a></li><li><a href="#MassBalanceOpt.StreamBasis"><code>MassBalanceOpt.StreamBasis</code></a></li><li><a href="#MassBalanceOpt.YieldReactor"><code>MassBalanceOpt.YieldReactor</code></a></li><li><a href="#JuMP.fix-Tuple{VariableRef}"><code>JuMP.fix</code></a></li><li><a href="#JuMP.set_start_values-Tuple{AbstractBlock}"><code>JuMP.set_start_values</code></a></li><li><a href="#JuMP.set_value-Tuple{VariableRef, Real}"><code>JuMP.set_value</code></a></li><li><a href="#MassBalanceOpt.connect"><code>MassBalanceOpt.connect</code></a></li><li><a href="#MassBalanceOpt.copy_stream"><code>MassBalanceOpt.copy_stream</code></a></li><li><a href="#MassBalanceOpt.copy_streams"><code>MassBalanceOpt.copy_streams</code></a></li><li><a href="#MassBalanceOpt.delete_lower"><code>MassBalanceOpt.delete_lower</code></a></li><li><a href="#MassBalanceOpt.delete_upper"><code>MassBalanceOpt.delete_upper</code></a></li><li><a href="#MassBalanceOpt.eval_obj"><code>MassBalanceOpt.eval_obj</code></a></li><li><a href="#MassBalanceOpt.flip"><code>MassBalanceOpt.flip</code></a></li><li><a href="#MassBalanceOpt.free"><code>MassBalanceOpt.free</code></a></li><li><a href="#MassBalanceOpt.is_flow"><code>MassBalanceOpt.is_flow</code></a></li><li><a href="#MassBalanceOpt.is_frac"><code>MassBalanceOpt.is_frac</code></a></li><li><a href="#MassBalanceOpt.make_eq!"><code>MassBalanceOpt.make_eq!</code></a></li><li><a href="#MassBalanceOpt.make_mass_flow_vars!"><code>MassBalanceOpt.make_mass_flow_vars!</code></a></li><li><a href="#MassBalanceOpt.make_stream_vars!"><code>MassBalanceOpt.make_stream_vars!</code></a></li><li><a href="#MassBalanceOpt.make_var!"><code>MassBalanceOpt.make_var!</code></a></li><li><a href="#MassBalanceOpt.print_active"><code>MassBalanceOpt.print_active</code></a></li><li><a href="#MassBalanceOpt.print_bounds"><code>MassBalanceOpt.print_bounds</code></a></li><li><a href="#MassBalanceOpt.print_eqs"><code>MassBalanceOpt.print_eqs</code></a></li><li><a href="#MassBalanceOpt.print_fixed"><code>MassBalanceOpt.print_fixed</code></a></li><li><a href="#MassBalanceOpt.print_free"><code>MassBalanceOpt.print_free</code></a></li><li><a href="#MassBalanceOpt.print_model"><code>MassBalanceOpt.print_model</code></a></li><li><a href="#MassBalanceOpt.print_vars"><code>MassBalanceOpt.print_vars</code></a></li><li><a href="#MassBalanceOpt.set_lower"><code>MassBalanceOpt.set_lower</code></a></li><li><a href="#MassBalanceOpt.set_stream_var_specs!"><code>MassBalanceOpt.set_stream_var_specs!</code></a></li><li><a href="#MassBalanceOpt.set_upper"><code>MassBalanceOpt.set_upper</code></a></li><li><a href="#MassBalanceOpt.write_vars"><code>MassBalanceOpt.write_vars</code></a></li><li><a href="#MassBalanceOpt.@Block_fields"><code>MassBalanceOpt.@Block_fields</code></a></li><li><a href="#MassBalanceOpt.@Block_finish"><code>MassBalanceOpt.@Block_finish</code></a></li><li><a href="#MassBalanceOpt.@Block_init"><code>MassBalanceOpt.@Block_init</code></a></li><li><a href="#MassBalanceOpt.@block"><code>MassBalanceOpt.@block</code></a></li><li><a href="#MassBalanceOpt.@bounds"><code>MassBalanceOpt.@bounds</code></a></li><li><a href="#MassBalanceOpt.@components"><code>MassBalanceOpt.@components</code></a></li><li><a href="#MassBalanceOpt.@set"><code>MassBalanceOpt.@set</code></a></li><li><a href="#MassBalanceOpt.@solve"><code>MassBalanceOpt.@solve</code></a></li><li><a href="#MassBalanceOpt.@specs"><code>MassBalanceOpt.@specs</code></a></li><li><a href="#MassBalanceOpt.@stoic"><code>MassBalanceOpt.@stoic</code></a></li><li><a href="#MassBalanceOpt.@stream"><code>MassBalanceOpt.@stream</code></a></li><li><a href="#MassBalanceOpt.@streams"><code>MassBalanceOpt.@streams</code></a></li><li><a href="#MassBalanceOpt.@values"><code>MassBalanceOpt.@values</code></a></li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../Examples/">« Examples</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.3.0 on <span class="colophon-date" title="Tuesday 12 March 2024 19:46">Tuesday 12 March 2024</span>. Using Julia version 1.10.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
